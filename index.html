<!doctype html>
<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

	<title>reveal.js</title>

	<link rel="stylesheet" href="css/reveal.css">
	<link rel="stylesheet" href="css/theme/black.css">

	<!-- Theme used for syntax highlighting of code -->
	<link rel="stylesheet" href="lib/css/zenburn.css">

	<!-- Printing and PDF exports -->
	<script>
		var link = document.createElement('link');
		link.rel = 'stylesheet';
		link.type = 'text/css';
		link.href = window.location.search.match(/print-pdf/gi) ? 'css/print/pdf.css' : 'css/print/paper.css';
		document.getElementsByTagName('head')[0].appendChild(link);
	</script>
</head>

<body>
	<div class="reveal">
		<div class="slides">

			<!-- Clean Variable -->

			<section>
				<h1>CLEAN CODE (JS)</h1>
				<p>Ahmed GHOUL</p>
			</section>

			<!-- TIP1 -->
			<section>
				<h5>variable names should be memorable</h5>
				<pre>
<code>
//Train's departure time
var time1 = new Date(2018, 1, 18);

//Train's arrival time
var time2 = new Date(2018, 1, 29);
</code>
</pre>


				<pre>
<code>
//Train's departure time
var departureTime = new Date(2018, 1, 18);

//Train's arrival time
var arrivalTime = new Date(2018, 1, 29);
</code>
</pre>
			</section>


			<!-- TIP2 -->
			<section>
				<h5>Favor description names over short ones</h5>
				<pre> <code>
let person = {
	fName: 'John',
	lName: 'Smith',
	fatherName: 'Jake'
}

				</code> </pre>
				<pre> <code>
let person = {
	firstName: 'John',
	lastName: 'Smith',
	fatherName: 'Jake'
}

				</code> </pre>
			</section>


			<!-- TIP3 -->
			<section>
				<h5>Avoid Unnecessary Context</h5>
				<pre> <code> 
export class Student {
	constructor(studentAcademicId, studentFirstName, studentLastName, studentUniversity) {
		this.studentAcademicId = studentAcademicId;
		this.studentFirstName = studentFirstName;
		this.studentLastName = studentLastName;
		this.studentUniversity = studentUniversity;
	}
}
				</code> </pre>
				<pre> <code> 
export class Student {
	constructor(academicId, firstName, lastName, university) {
		this.academicId = academicId;
		this.firstName = firstName;
		this.lastName = lastName;
		this.university = university;
	}
}
				</code> </pre>
			</section>

			<!-- TIP4 -->
			<section>
				<h5>Be consistent with naming conventions</h5>
				<pre> <code>
export class Customer {
      getCustomer() {

      }

      get_customer() {

	  }
	}
 </code> </pre>
				<pre> <code>
export class Customer {
      get() {

      }
	}
 </code> </pre>
			</section>
			<!-- end clean variable -->


			<!--begin: lexical Scope and let -->

			<!-- TIP1 -->
			<section>
				<h5>Always favor Strict Mode</h5>
				<h5>Use let instead of var</h5>
			</section>
			<!-- end: lexical Scope and let -->


			<!-- begin: Clean function -->
			<!-- TIP1 -->
			<section>
				<h5>Single responsibility</h5>
				<pre>
					<code>
function prepareData(items) {
	for (let i = 0; i < items.length; i++) {
		items[i].id = i + 1;
	}


	let boughtItems = [];
	for (let i = 0; i < items.length; i++) {
		if (items[i].bought) {
			boughtItems.push(items[i]);
		}
	}

	let totalCost = 0;
	for (let i = 0; i < items.length; i++) {
		totalCost += items[i].price;
	}
	console.log(`Total Cost: ${totalCost}`);
}
											</code></pre>

			</section>


			<section>
				<h5>Single responsibility</h5>
				<pre>
												<code>
function prepareData(items) {
	addIds(items);
	let boughtItems = getBoughtItems(items);
	let totalCost = computeTotalCost(boughtItems);
	console.log(`Total Cost: ${totalCost}`);
}

function addIds(items) {

}

function getBoughtItems(items) {

}

function computeTotalCost(items) {

}
				</code>
			</pre>
			</section>


			<section>
				<h5>Reduce number of arguments</h5>
				<pre><code>
function draw(element, width, height, backgroundColor, color ) {
	element.style.width = width;
	element.style.height = height;
	element.style.backgroundColor = backgroundColor;
	element.style.color = color;
	//Do something else to draw the shape
	//.......
	return element;
}
				</code></pre>
				<pre><code>
function draw(element, config) {
	element.style.width = config.width;
	element.style.height = config.height;
	element.style.backgroundColor = config.backgroundColor;
	element.style.color = config.color;
	//Do something else to draw the shape
	//.......
	return element;
}
				</code></pre>
			</section>


			<section>
				<h5>Avoid a callbacks</h5>
				<pre><code>
function getSensorAData(cb) {
	setTimeout(() => {
		cb({
			min: 8, 
			max: 118
		});
	}, 2000);
}

function getSensorBData(cb) {
	setTimeout(() => {
		cb({
			temp: 78,
			value: 26
		});
	}, 500);
}

function getSensorCData(cb) {
	setTimeout(() => {
		cb({
			min: 14,
			max: 92,
			temp: 64,
			value: 12
		});
	}, 2000)
}

function combineSensorData() {
	getSensorAData((sensorAData) => {
		console.log("Sensor A Data: ", sensorAData);
		
		getSensorBData(sensorBData => {
			console.log("Sensor B Data: ", sensorBData);

			getSensorCData(sensorCData => {
				console.log("Sensor C Data: ", sensorCData);

				//Do some computation with sensor data
			})
		});
	});
}
				</code></pre>
			</section>


<section>
	<h5>Avoid callback</h5>
	<pre><code>
function getSensorAData() {
	return new Promise((resolve, reject) => {
		setTimeout(() => {
			resolve({
				min: 8, 
				max: 118
			});
		}, 2000);
	})
}

function getSensorBData() {
	return new Promise((resolve, reject) => {
		setTimeout(() => {
			resolve({
				temp: 78,
				value: 26
			});
		}, 500);
	});
}

function getSensorCData() {
	return new Promise((resolve, reject) => {
		setTimeout(() => {
			resolve({
				min: 14,
				max: 92,
				temp: 64,
				value: 12
			});
		}, 2000)
	});
}

function combineSensorData() {
	Promise.all(getSensorAData(), getSensorBData(), getSensorCData()).then(results => {
		let sensorAData = results[0];
		let sensorBData = results[1];
		let sensorCData = results[2];
	});
}
	</code></pre>
</section>



<section>
	<h5>Use Object.assign or the spred operator for default argumanets</h5>
	<pre><code>
function draw(element, config) {
	let defaults = {
		width: 200,
		height: 200,
		margin: 28,
		padding: 14
	};
	// config = Object.assign(defaults, config);
	config = {
		...defaults,
		...config       //WARNING: config must come second!!
	}
	console.log(config);
}
	</code></pre>
</section>

			<!-- end: Clean function -->






		</div>
	</div>

	<script src="lib/js/head.min.js"></script>
	<script src="js/reveal.js"></script>

	<script>
		// More info about config & dependencies:
		// - https://github.com/hakimel/reveal.js#configuration
		// - https://github.com/hakimel/reveal.js#dependencies
		Reveal.initialize({
			dependencies: [
				{ src: 'plugin/markdown/marked.js' },
				{ src: 'plugin/markdown/markdown.js' },
				{ src: 'plugin/notes/notes.js', async: true },
				{ src: 'plugin/highlight/highlight.js', async: true, callback: function () { hljs.initHighlightingOnLoad(); } }
			]
		});
	</script>
</body>

</html>